{"ast":null,"code":"import instance from '../axios/axios';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../data.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../headerr/headerr.component\";\nimport * as i5 from \"../loading/loading.component\";\nfunction Create_p_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p\", 13);\n    i0.ɵɵlistener(\"click\", function Create_p_9_Template_p_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const i_r3 = restoredCtx.index;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.thi(i_r3 + 1));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const thie_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(thie_r2);\n  }\n}\nfunction Create_div_17_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 25);\n  }\n}\nfunction Create_div_17_img_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 26);\n  }\n  if (rf & 2) {\n    const locatio_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵpropertyInterpolate1(\"src\", \"https://maps.googleapis.com/maps/api/place/photo?maxwidth=500&photoreference=\", locatio_r6.description.photos, \"&key=AIzaSyBVatgG_Di0Y8-yNMFDvczuyAGzIMcN0RU\", i0.ɵɵsanitizeUrl);\n  }\n}\nfunction Create_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtemplate(1, Create_div_17_img_1_Template, 1, 0, \"img\", 15);\n    i0.ɵɵtemplate(2, Create_div_17_img_2_Template, 1, 1, \"img\", 16);\n    i0.ɵɵelementStart(3, \"div\", 17)(4, \"p\", 18);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 19);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 20);\n    i0.ɵɵelement(9, \"i\", 21)(10, \"i\", 21)(11, \"i\", 21)(12, \"i\", 21)(13, \"i\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\", 22);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\", 22);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 23)(19, \"p\", 24);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const locatio_r6 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !locatio_r6.description.photos);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", locatio_r6.description.photos);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", locatio_r6.description.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", locatio_r6.description.address, \" \");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\" Start Time: \", locatio_r6.travelTime.arrival, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" End Time: \", locatio_r6.travelTime.departure, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", locatio_r6.cost, \" \");\n  }\n}\nexport let Create = /*#__PURE__*/(() => {\n  class Create {\n    constructor(router, d) {\n      this.router = router;\n      this.d = d;\n      this.title = 'weather';\n      this.index = 0;\n      this.thien = [];\n      this.place = false;\n      this.loading = false;\n    }\n    ngOnInit() {\n      instance.get(`http://ec2-43-207-102-176.ap-northeast-1.compute.amazonaws.com:5000/routes/${this.d.minh}`).then(response => {\n        this.loading = true;\n        console.log(response);\n        this.locations = response.data.data.routes;\n        this.location = this.locations[this.index].route;\n        this.infor = response.data.data;\n        this.duration = this.locations.length;\n        this.dateObjstart = new Date(this.infor.startDate);\n        this.yearstart = this.dateObjstart.getFullYear();\n        this.monthstart = this.dateObjstart.getMonth() + 1;\n        this.daystart = this.dateObjstart.getDate();\n        this.formattedDatstart = `${this.daystart}-${this.monthstart}-${this.yearstart}`;\n        this.dateObjend = new Date(this.infor.endDate);\n        this.yearend = this.dateObjend.getFullYear();\n        this.monthend = this.dateObjend.getMonth() + 1;\n        this.dayend = this.dateObjend.getDate();\n        this.formattedDatend = `${this.dayend}-${this.monthend}-${this.yearend}`;\n        this.ngay = response.data.data.routes.length;\n        this.cost = this.infor.cost.toLocaleString('vi-VN');\n        for (let i = 0; i < this.ngay - 1; i++) {\n          // this.thien.push(100 - (this.locations[i].rating / 5) * 100 + 11.7);\n          this.thien.push('Day' + ' ' + (i + 2));\n          console.log('thien');\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n      console.log(this.thien);\n      console.log(this.d.minh);\n    }\n    thi(i) {\n      document.querySelector('.add')?.classList.remove('add');\n      document.querySelectorAll('.itinerary-search_input_day_detail')[i].classList.add('add');\n      this.index = i;\n      console.log(this.index);\n      this.location = this.locations[this.index].route;\n    }\n    map() {\n      this.d.vitri = [];\n      this.router.navigateByUrl('/map/detail');\n      for (let j = 0; j < this.ngay; j++) {\n        this.d.vitri.push([]);\n      }\n      console.log(this.d.vitri);\n      for (let i = 0; i < this.ngay; i++) {\n        for (let j = 0; j < this.locations[i].route.length; j++) {\n          console.log('thien');\n          this.d.vitri[i].push({\n            lat: this.locations[i].route[j].description.latitude,\n            lng: this.locations[i].route[j].description.longitude\n          });\n        }\n      }\n      console.log(this.d.vitri);\n    }\n  }\n  Create.ɵfac = function Create_Factory(t) {\n    return new (t || Create)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.DataService));\n  };\n  Create.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: Create,\n    selectors: [[\"create\"]],\n    decls: 18,\n    vars: 6,\n    consts: [[1, \"create\"], [1, \"create-background\"], [1, \"create-content\"], [1, \"itinerary-search_input_day\"], [1, \"date\"], [1, \"itinerary-search_input_day_detail\", \"add\", 3, \"click\"], [\"class\", \"itinerary-search_input_day_detail\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"infor\"], [1, \"itinerary-search_dates\"], [1, \"itinerary-search_cost\"], [1, \"fa-solid\", \"fa-map-location-dot\", 3, \"click\"], [1, \"itinerary-search_place\"], [\"class\", \"itinerary-search_place_main\", 4, \"ngFor\", \"ngForOf\"], [1, \"itinerary-search_input_day_detail\", 3, \"click\"], [1, \"itinerary-search_place_main\"], [\"src\", \"../../assets/image/nen33.jpeg\", \"alt\", \"\", \"class\", \"itinerary-search_place_main_img\", 4, \"ngIf\"], [\"alt\", \"\", \"class\", \"itinerary-search_place_main_img\", 3, \"src\", 4, \"ngIf\"], [1, \"itinerary-search_place_main_detail\"], [1, \"itinerary-search_place_main_detail_name\"], [1, \"itinerary-search_place_main_detail_extra\"], [1, \"start\"], [1, \"fa-solid\", \"fa-star\"], [1, \"itinerary-search_place_main_detail_extr\"], [1, \"itinerary-search_place_main_funtion\"], [1, \"itinerary-search_place_main_funtion_price\"], [\"src\", \"../../assets/image/nen33.jpeg\", \"alt\", \"\", 1, \"itinerary-search_place_main_img\"], [\"alt\", \"\", 1, \"itinerary-search_place_main_img\", 3, \"src\"]],\n    template: function Create_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"headerr\")(1, \"loading\");\n        i0.ɵɵelementStart(2, \"div\", 0);\n        i0.ɵɵelement(3, \"div\", 1);\n        i0.ɵɵelementStart(4, \"div\", 2)(5, \"div\", 3)(6, \"div\", 4)(7, \"p\", 5);\n        i0.ɵɵlistener(\"click\", function Create_Template_p_click_7_listener() {\n          return ctx.thi(0);\n        });\n        i0.ɵɵtext(8, \"Day 1\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(9, Create_p_9_Template, 2, 1, \"p\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 7)(11, \"p\", 8);\n        i0.ɵɵtext(12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"p\", 9);\n        i0.ɵɵtext(14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"i\", 10);\n        i0.ɵɵlistener(\"click\", function Create_Template_i_click_15_listener() {\n          return ctx.map();\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(16, \"div\", 11);\n        i0.ɵɵtemplate(17, Create_div_17_Template, 21, 7, \"div\", 12);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵclassProp(\"loading\", ctx.loading);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngForOf\", ctx.thien);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" Duration: \", ctx.duration, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" Cost: \", ctx.cost, \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.location);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.Headerr, i5.Loading],\n    styles: [\".create[_ngcontent-%COMP%]{width:100%;background-image:url(nen10.a476095a8f15e781.jpeg);background-size:100% 100%;height:870px;background-repeat:no-repeat;position:relative;z-index:1;position:fixed;inset:0%}.create-background[_ngcontent-%COMP%]{position:fixed;inset:0%;background-color:#0009;z-index:2}.create-content[_ngcontent-%COMP%]{position:fixed;inset:18% 10% 5%;background-color:#ffffffe6;z-index:5;border-radius:16px;box-shadow:0 0 5px 3px #fff}.itinerary-search_input_day[_ngcontent-%COMP%]{display:flex;width:100%}.itinerary-search_input_day_detail[_ngcontent-%COMP%]:first-child{border-top-left-radius:16px;border-bottom-left-radius:16px}.itinerary-search_input_day_detail[_ngcontent-%COMP%]{line-height:50px;text-align:center;font-size:16px;font-weight:600;background-color:#fff;cursor:pointer;margin:.8% 0 0 2%;border-radius:18px;width:18%;height:50px}.add[_ngcontent-%COMP%]{font-size:24px;background-color:#797676;width:18%;height:50px;margin-top:.8%;margin-left:1%;border-radius:18px;line-height:50px;color:#fff}.itinerary-search_place[_ngcontent-%COMP%]{width:100%;height:87%;overflow-y:scroll;overflow:-moz-scrollbars-none;-ms-overflow-style:none}.itinerary-search_place[_ngcontent-%COMP%]::-webkit-scrollbar{width:0!important;display:none}.itinerary-search_place_main[_ngcontent-%COMP%]{width:98%;height:29%;background-color:#fff;margin-top:2%;display:flex;cursor:pointer;border-radius:16px;box-shadow:0 0 3px 2px #b4b4b4;margin-left:1%}.itinerary-search_place_main_img[_ngcontent-%COMP%]{width:10%;height:65%;border-radius:50%;margin-top:2%;margin-left:3%;border:2px solid #326c8e;object-fit:cover}.itinerary-search_place_main_detail[_ngcontent-%COMP%]{width:60%;height:65%;margin-top:1.5%;margin-left:3%}.itinerary-search_place_main_detail_name[_ngcontent-%COMP%]{font-size:20px;margin:1% 0 0;font-weight:600}.itinerary-search_place_main_detail_extra[_ngcontent-%COMP%]{margin:1% 0 0;width:95%;font-size:16px}.itinerary-search_place_main_detail_extr[_ngcontent-%COMP%]{margin:1% 0 0;width:95%;font-size:16px;font-weight:600;color:#326c8e}.itinerary-search_place_main_detail_time[_ngcontent-%COMP%]{display:flex;margin-top:1%}.itinerary-search_place_main_detail_time_start[_ngcontent-%COMP%]{margin:.5% 0 0;color:#326c8e;font-weight:600;font-size:14px}.itinerary-search_place_main_detail_time_end[_ngcontent-%COMP%]{color:#326c8e;font-weight:600;margin:1.5% 0 0 3%;font-size:14px}.start[_ngcontent-%COMP%]{position:relative;width:32%;height:22%}.fa-star[_ngcontent-%COMP%]{margin-top:2%;color:#e8ad16;margin-right:3%;font-size:16px}.overlay[_ngcontent-%COMP%]{background-color:#fff;width:0%;height:100%;mix-blend-mode:color;position:absolute;top:0;right:0}.itinerary-search_place_main_funtion[_ngcontent-%COMP%]{width:9%;height:90%;margin-top:5%;margin-left:10%}.itinerary-search_place_main_funtion_price[_ngcontent-%COMP%]{color:#0a8039;font-size:16px;border:1px solid #0a8039;text-align:center;border-radius:8px;height:30%;width:80%;line-height:50px;font-weight:600;margin:0 0 0 10%}.itinerary-search_dates[_ngcontent-%COMP%]{margin-left:34%;font-size:20px;color:#fff;font-weight:600;width:22%;height:80%;padding-left:2%;line-height:40px;background-color:#797676;border-radius:14px}.itinerary-search_datee[_ngcontent-%COMP%]{margin-left:3%;font-size:18px;color:#326c8e;font-weight:600}.itinerary-search_cost[_ngcontent-%COMP%]{font-size:20px;color:#fff;margin-left:3%;font-weight:600;width:22%;height:80%;padding-left:2%;line-height:40px;background-color:#797676;border-radius:14px}.date[_ngcontent-%COMP%]{width:50%;height:50px;display:flex}.infor[_ngcontent-%COMP%]{width:60%;height:50px;display:flex}.fa-map-location-dot[_ngcontent-%COMP%]{font-size:30px;color:#797676;margin-top:3%;margin-left:2%;cursor:pointer;line-height:40px}.loading[_ngcontent-%COMP%]{display:none}\"]\n  });\n  return Create;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}